# Bank Operations Widget

## Описание проекта
**Bank Operations Widget** — это приложение для работы с банковскими операциями, которое предоставляет функции для фильтрации и сортировки данных по банковским операциям. Проект следует практике GitFlow для удобства командной разработки и организации рабочего процесса. В проекте реализованы функции для обработки данных, такие как фильтрация операций по статусу и сортировка по дате.

## Функциональность
Проект предоставляет следующие функции:

### 1. `filter_by_state`
Функция фильтрует список банковских операций по переданному статусу.

- **Аргументы**:
  - `data` (List[Dict]) — список операций, представленных в виде словарей.
  - `state` (str, опционально) — статус для фильтрации (по умолчанию 'EXECUTED').
  
- **Возвращает**: 
  - Список операций, отфильтрованный по указанному статусу.

- **Пример**:
  ```python
  data = [
      {'id': 1, 'state': 'EXECUTED', 'date': '2024-01-01'},
      {'id': 2, 'state': 'CANCELED', 'date': '2024-01-02'}
  ]
  
  result = filter_by_state(data)  # [{'id': 1, 'state': 'EXECUTED', 'date': '2024-01-01'}]

# Тестирование

Проект был протестирован с использованием библиотеки `pytest`.

## Инструкция по запуску тестов

1. Убедитесь, что у вас установлен `pytest`. Если `pytest` не установлен, вы можете установить его с помощью команды:
 
   pip install pytest
Чтобы запустить тесты, выполните следующую команду в корневой директории проекта:

pytest
В проекте реализованы следующие тесты:

Тесты для функции маскирования карт (get_mask_card_number):

Проверка корректного маскирования номеров карт.
Проверка граничных случаев и нестандартных входных данных.
Обработка исключений для номеров карт, длина которых не соответствует 16 цифрам.
Тесты для функции маскирования счетов (get_mask_account):

Проверка корректного маскирования номеров счетов.
Обработка случаев с разными длинами номеров.
Обработка исключений для номеров счетов, длина которых меньше 4 цифр.
Пример тестов
Тесты были написаны с использованием pytest.mark.parametrize, что позволяет проверять несколько вариантов входных данных для функций маскирования карт и счетов, а также обрабатывать исключительные случаи, например, некорректную длину номеров.

Пример теста для функции маскирования карты:

```@pytest.mark.parametrize("card_number, expected", [
    ("7000792289606361", "7000 79** **** 6361"),
    ("1234567890123456", "1234 56** **** 3456"),
    ("", ""),
    ("12345", None),  # Должно выбрасывать исключение
])
def test_get_mask_card_number(card_number, expected):
    if card_number == "12345":  # Тест для исключения
        with pytest.raises(ValueError, match="Card number must be 16 digits long."):
            get_mask_card_number(card_number)
    else:
        assert get_mask_card_number(card_number) == expected
```

Таким образом, каждый тест проверяет не только правильное выполнение функции, но и корректную обработку ошибок.
